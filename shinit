# ~/.shinit should be compatible with all near-POSIX shells sh, ksh, dash, bash, etc.
# vim: set filetype=sh:
# MAY be sourced from ~/.bashrc  TODO if needed!
# may be invoked for all shell scripts, interactive and non-interactive shells
# contains items that can be inherited by interactive and non-interactive subshells
#     environment variable definitions
#
#NEWVIM=/usr/local/bin/vim && [ -x $NEWVIM ] && vi() { $NEWVIM "$@"; }
# shortcuts only for interactive TODO posix but not sh compatible? 
# use functions over aliases in general?
case $- in *i*)
    # commands for interactive use only
    set -o vi
    EDITOR=vi; export EDITOR
    VISUAL=$EDITOR; export VISUAL # this might help git, ?others?
    PAGER="less -X" ; export PAGER
    LANG=en_US.UTF-8 ; export LANG   # this helps mutt display 8-bit chars
    # very bad things happen in cygwin when we make a shell function vi
    # when a vi alias is already set up, so...unalias
    unalias -a
    we() { weight; }
    py() { python3 "$@"; }
    # give up on this for now. TODO or guard against multiple invocations
    #vi() { vim "$@"; }
    # pbcopy/pbpaste are OS X utilities
    if ! command -v pbcopy > /dev/null 2>&1 ; then
        pbcopy()  { xclip -selection clipboard; }
        pbpaste() { xclip -selection clipboard -o "$@"; }
    fi

    # gives color output for ls
    CLICOLOR=on ; export CLICOLOR
    XTIDE_DEFAULT_LOCATION="La Jolla" ; export XTIDE_DEFAULT_LOCATION

    # tah: trying to standardize on backspace sends delete
    stty erase "^?"
esac
# NOTE: SH_INIT used as a sentinel in .bashrc.
export SH_INIT=true

# TODO only run this if xwindows is running?
#setxkbmap -layout us -option ctrl:nocaps
